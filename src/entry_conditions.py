# entry_conditions.py
# -------------------
# ×§×•×‘×¥ ×–×” ××’×“×™×¨ ×ª× ××™ ×›× ×™×¡×” ×œ×”×©×§×¢×” ×¢×œ ×‘×¡×™×¡ ×‘×™×˜× ××¡×™××˜×¨×™×ª.
# ××˜×¨×ª×• ×œ×–×”×•×ª ×× ×™×•×ª ×©"×—×–×§×•×ª ××”×©×•×§" ×•×œ×“×¨×’ ××•×ª×Ÿ ×œ×¤×™ ×¢×•×¦××” ×™×—×¡×™×ª.
# entry_conditions.py
# -------------------
# ğŸ“Œ ××˜×¨×”:
# ×§×•×‘×¥ ×–×” ××’×“×™×¨ ×¤×•× ×§×¦×™×•×ª ×œ×–×™×”×•×™ ×× ×™×•×ª "×—×–×§×•×ª ××”×©×•×§" ×¢×œ ×‘×¡×™×¡ ×˜×‘×œ×ª ×”×‘×™×˜× ×”×-×¡×™××˜×¨×™×ª `asymmetric_betas` ×‘××¡×“ ×”× ×ª×•× ×™×.
#
# ğŸ—‚ï¸ ×§×œ×˜:
# - ×¢×¨×›×™× ××ª×•×š ×˜×‘×œ×ª `asymmetric_betas`, ×›×•×œ×œ:
#     â€¢ symbol
#     â€¢ date
#     â€¢ beta_up (×‘×˜× ×©×œ ×”×× ×™×” ×‘×™××™× ×©×‘×”× ×”×©×•×§ ×¢×œ×”)
#     â€¢ beta_down (×‘×˜× ×©×œ ×”×× ×™×” ×‘×™××™× ×©×‘×”× ×”×©×•×§ ×™×¨×“)
#
# âš™ï¸ ××” ×”×§×•×‘×¥ ×¢×•×©×”:
# - ××•×•×“× ×× ×× ×™×” × ×—×©×‘×ª ×—×–×§×” ××”×©×•×§ ×œ×¤×™ ×§×¨×™×˜×¨×™×•× ×™× ××•×’×“×¨×™×:
#     â€¢ Î²âº > 1.1 (×”×× ×™×” ×¢×•×œ×” ×™×•×ª×¨ ××”×©×•×§)
#     â€¢ Î²â» > -0.5 (×”×× ×™×” ×™×•×¨×“×ª ×¤×—×•×ª ××”×©×•×§)
# - ××—×©×‘ ×¦×™×•×Ÿ ×—×•×–×§×” ×™×—×¡×™ (×œ× ×—×•×‘×”): beta_up - abs(beta_down)
#
# ğŸ§¾ ×¤×œ×˜:
# - bool: ×”×× ×”×× ×™×” × ×—×©×‘×ª ×—×–×§×” ××”×©×•×§ (`True` ××• `False`)
# - float (××•×¤×¦×™×•× ×œ×™): ××“×“ ×—×•×–×§×” ×™×—×¡×™×ª ×œ×©×•×§, ×œ×”××©×š ×“×™×¨×•×’
#
# ğŸ§  ×©×™××•×©×™×:
# - ×©×œ×‘ ×¡×™× ×•×Ÿ ×× ×™×•×ª ×œ××¡×˜×¨×˜×’×™×•×ª ×”×©×§×¢×”
# - ×ª×©×ª×™×ª ×œ×‘× ×™×™×ª ×ª× ××™ ×›× ×™×¡×” ×œ××œ×’×•×¨×™×ª× ××¡×—×¨
# - ×“×™×¨×•×’ ×× ×™×•×ª ×œ×¦×•×¨×›×™ × ×™×ª×•×— ×¢×•××§ ××• ××™××•×Ÿ ××•×“×œ×™×

def is_strong_stock(beta_up, beta_down, beta_up_threshold=1.1, beta_down_threshold=-0.5):
    """
    ×‘×•×“×§ ×”×× ×× ×™×” × ×—×©×‘×ª ×—×–×§×” ××”×©×•×§:
    - ×‘×˜× ×—×™×•×‘×™×ª ×’×‘×•×”×” (×‘×™×•× ×©×”×©×•×§ ×¢×œ×”)
    - ×‘×˜× ×©×œ×™×œ×™×ª × ××•×›×” (×‘×™×•× ×©×”×©×•×§ ×™×¨×“)

    Args:
        beta_up (float): ×‘×™×˜× ×‘×™××™× ×—×™×•×‘×™×™× ×©×œ ×”×©×•×§
        beta_down (float): ×‘×™×˜× ×‘×™××™× ×©×œ×™×œ×™×™× ×©×œ ×”×©×•×§
        beta_up_threshold (float): ×¨×£ ×ª×—×ª×•×Ÿ ×œÖ¾Î²âº
        beta_down_threshold (float): ×¨×£ ×¢×œ×™×•×Ÿ ×œÖ¾Î²â»

    Returns:
        bool: True ×× ×”×× ×™×” ×—×–×§×” ××”×©×•×§
    """
    return (
        beta_up is not None and
        beta_down is not None and
        beta_up > beta_up_threshold and
        beta_down > beta_down_threshold
    )


def relative_strength_score(beta_up, beta_down):
    """
    ××—×©×‘ ××“×“ ×—×•×–×§×” ×™×—×¡×™×ª ×©×œ ×× ×™×” ×œ×©×•×§
    (×’×‘×•×” ×™×•×ª×¨ â†’ ×”×× ×™×” ×—×–×§×” ×™×•×ª×¨ ××”×©×•×§)

    Args:
        beta_up (float): ×‘×˜× ×›×©×”×©×•×§ ×¢×•×œ×”
        beta_down (float): ×‘×˜× ×›×©×”×©×•×§ ×™×•×¨×“

    Returns:
        float: ××“×“ ×—×•×–×§×” ×™×—×¡×™×ª
    """
    if beta_up is None or beta_down is None:
        return None
    return beta_up - abs(beta_down)
